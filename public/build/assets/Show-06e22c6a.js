import{q as y,j as e,a as b}from"./app-249282a5.js";import{B as j}from"./Button-0dbe8e61.js";import{d as u,A as g}from"./AppLayout-4a748a6c.js";import{T as r}from"./Table-4e766002.js";import{c as f}from"./createReactComponent-ffe6e01e.js";var w=f("arrow-back","IconArrowBack",[["path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1",key:"svg-0"}]]);const N=({status:s,...c})=>e.jsx(r.TdNumber,{className:`px-2 ${s?"bg-green-600":""}`,...c}),D=({id:s,numbers:c,item:a})=>e.jsxs("tr",{children:[e.jsx(r.Td,{scope:"row",children:s+1}),e.jsx(r.Td,{children:a.name}),c.map((l,d)=>e.jsx(N,{status:a.days?a.days[l]:!1},d))]}),k=(s,c=null)=>{const a=[],l=[],d=["D","L","M","M","J","V","S"],o=new Date,m=c??o.getFullYear(),h=new Date(m,s,0).getDate(),t=Array(h).fill().map((i,x)=>x+1);o.setDate(1),o.setFullYear(m),o.setMonth(s-1);const n=o.getDay();for(let i=0;i<h;i++){let x=new Date(o),p=(n+i)%7;x.setDate(i+1),a.push(d[p]),(p===0||p===6)&&l.push(i+1)}return{monthDays:a,colorDays:l,numbers:t,year:m}};function v(){const{planification:s,activities:c}=y().props,a=s.month,{monthDays:l,colorDays:d,numbers:o,year:m}=k(a,s.year),h=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Crear Planificación"}),e.jsx("div",{className:"mb-5",children:e.jsx("div",{className:"flex flex-row items-center md:justify-between gap-5",children:e.jsx("div",{className:"w-full",children:e.jsxs("h3",{className:"font-semibold text-l text-gray-800 leading-tight mb-2",children:["Mes de ",h[a-1]," del ",m]})})})}),e.jsxs(r.Card,{title:"VER PLANIFICACIÓN",icon:e.jsx(u,{strokeWidth:"1.5",size:"20"}),children:[e.jsxs(r,{children:[e.jsxs(r.Thead,{children:[e.jsxs("tr",{children:[e.jsx(r.Th,{rowSpan:2,scope:"col",children:"#"}),e.jsx(r.Th,{rowSpan:2,scope:"col",children:"Actividades"}),l.map((t,n)=>e.jsx(r.ThNumber,{scope:"col",className:` py-3 ${t==="S"||t==="D"?"bg-blue-600 dark:text-white":"bg-gray-100"}`,children:t},n))]}),e.jsx("tr",{children:o.map((t,n)=>e.jsx(r.ThNumber,{scope:"col",className:` py-3 ${d.includes(t)?"bg-blue-600 dark:text-white":"bg-gray-100"}`,children:t},n))})]}),e.jsx(r.Tbody,{children:c.map((t,n)=>e.jsx(D,{id:n,item:t,numbers:o},n))})]}),e.jsx("div",{className:"flex items-center gap-4 mt-4 p-2",children:e.jsx(j,{label:"Regresar",icon:e.jsx(w,{strokeWidth:"1.5",size:"20"}),className:"bg-gray-200 text-gray-500 border border-gray-300 hover:border-gray-500",type:"link",href:"/planification/list"})})]})]})}v.layout=s=>e.jsx(g,{children:s});export{v as default};
