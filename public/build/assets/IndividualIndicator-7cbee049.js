import{q as y,r as s,j as e,a as S,b as C}from"./app-336f10bd.js";import{B as u}from"./Button-ebcb0d80.js";import{C as r}from"./Card-4d8aeb9a.js";import{S as o}from"./Select-0fa6dd03.js";import{f as k,_ as n,A}from"./AppLayout-6fd92f89.js";import{B as z,I as B,P}from"./PieType-71ceca3c.js";import{I as w}from"./IconUser-31183142.js";import{I as W}from"./IconSearch-ba83f05d.js";import{I as M}from"./index-d5f79cf9.js";import"./react-select.esm-ef5e9ead.js";import"./createReactComponent-4195aa5e.js";function E(){const l=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],{users:c,years:d}=y().props,[t,h]=s.useState(""),[m,v]=s.useState(""),[i,x]=s.useState(""),[p,b]=s.useState([]),[j,f]=s.useState([]),[g,N]=s.useState([]),I=()=>{if(!(t&&i&&t)){n.error("Complete todos los campos");return}C.post(route("planification.indicator"),{user:t,year:i,month:m}).then(a=>{a.data?(console.log(a.data),b(a.data.countActivities),f(a.data.names),N(a.data.porcents)):n.error("No hay resultados")}).catch(a=>{n.error(a)})};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Indicadores Individuales"}),e.jsx("div",{className:"mb-5",children:e.jsx("div",{className:"flex flex-row items-center md:justify-between gap-5",children:e.jsx("div",{className:"lg:w-2/6 xl:w-1/6",children:e.jsx(u,{label:"Indicadores por Dependencia",type:"link",icon:e.jsx(k,{size:"20",strokeWidth:"1.5"}),className:"bg-white text-gray-700 border hover:border-sky-500",href:"/planification/dependency-indicators",added:!0})})})}),e.jsxs(r,{title:"Indicadores de Planificación Individual",icon:e.jsx(w,{size:"20",strokeWidth:"1.5"}),children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Año",options:d,value:d.filter(a=>a.value===i)[0],onChange:a=>x(a.value)})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Mes",options:l,value:l.filter(a=>a.value===m)[0],onChange:a=>v(a.value)})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Usuario",options:c,value:c.filter(a=>a.value===t)[0],onChange:a=>h(a.value)})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(u,{onClick:()=>I(),label:"Buscar",icon:e.jsx(W,{strokeWidth:"1.5",size:"20"}),className:"bg-teal-200 text-teal-500 border border-teal-300 hover:border-teal-500"})})]}),e.jsx("div",{className:"mt-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"col-span-12 lg:col-span-2",children:e.jsx(r,{title:"Porcentaje de cumplimiento (%)",icon:e.jsx(M,{size:"20",strokeWidth:"1.5"}),children:e.jsx(z,{names:j,porcents:g})})}),e.jsx("div",{className:"col-span-12 lg:col-span-1",children:e.jsx(r,{className:"h-full",title:"Tipos de actividades",icon:e.jsx(B,{size:"20",strokeWidth:"1.5"}),children:e.jsx(P,{num:p})})})]})})]})}E.layout=l=>e.jsx(A,{children:l});export{E as default};
