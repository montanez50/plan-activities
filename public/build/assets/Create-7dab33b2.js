import{q as j,W as b,j as e,a as v}from"./app-516ae334.js";import{B as d}from"./Button-88980955.js";import{C as f}from"./Card-42d50657.js";import{I as o}from"./Input-55937daf.js";import{S as g}from"./Select-beaf230d.js";import{d as y,_ as N,A as C}from"./AppLayout-43157a2a.js";import{I as m}from"./IconPointFilled-2e9edf40.js";import{I as w}from"./IconPencilPlus-0a4eeb7f.js";import{I as k}from"./IconPencilX-dd5b2fa0.js";import"./react-select.esm-6b5fea93.js";import"./createReactComponent-3931612a.js";function I(){const{roles:i,dependencies:c}=j().props,{data:a,setData:r,post:p,errors:l}=b({name:"",last_name:"",email:"",rolesData:[],password:"",password_confirmation:"",dependency:{}}),x=s=>{let t=a.rolesData;t.includes(s.target.value)?t=t.filter(n=>n!==s.target.value):t.push(s.target.value),r("rolesData",t)},h=async s=>{s.preventDefault(),p("/apps/users",{onSuccess:()=>{N.success("Data successfully created!",{icon:"👏",style:{borderRadius:"10px",background:"#333",color:"#fff"}})}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Crear Usuario"}),e.jsx(f,{title:"Crear Usuario",icon:e.jsx(y,{size:"20",strokeWidth:"1.5"}),children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Nombre",type:"text",value:a.name,onChange:s=>r("name",s.target.value),errors:l.name})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Apellido",type:"text",value:a.last_name,onChange:s=>r("last_name",s.target.value),errors:l.last_name})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Email",type:"email",value:a.email,onChange:s=>r("email",s.target.value),errors:l.email})}),e.jsx("div",{className:"mb-4",children:e.jsx(g,{label:"Dependencia",options:c,value:a.dependency,onChange:s=>r("dependency",s),errors:l.dependency})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Contraseña",type:"password",value:a.password,onChange:s=>r("password",s.target.value),errors:l.password})}),e.jsx("div",{className:"mb-4",children:e.jsx(o,{label:"Confirmar Contraseña",type:"password",value:a.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),errors:l.password_confirmation})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Roles"}),e.jsx("div",{className:"grid grid-cols-1 gap-x-3 gap-y-1.5 h-[400px] overflow-y-auto",children:i.map((s,t)=>e.jsxs("div",{className:"border-b px-4 pb-2 pt-1 border-dashed",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("input",{type:"checkbox",className:"rounded-full",value:s.name,onChange:x,id:`check-${s.id}`}),e.jsx("div",{className:"font-semibold",children:s.name})]}),s.name!=="administrador"?e.jsx("div",{className:"flex flex-wrap items-center gap-4 ml-5",children:s.permissions.map((n,u)=>e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(m,{strokeWidth:"1.5",size:"15"}),n.name]},u))}):e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 ml-5",children:[e.jsx(m,{strokeWidth:"1.5",size:"15"})," all permissions"]})]},t))})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{label:"Guardar",icon:e.jsx(w,{strokeWidth:"1.5",size:"20"}),className:"bg-teal-200 text-teal-500 border border-teal-300 hover:border-teal-500"}),e.jsx(d,{label:"Cancelar",icon:e.jsx(k,{strokeWidth:"1.5",size:"20"}),className:"bg-rose-200 text-rose-500 border border-rose-300 hover:border-rose-500",type:"link",href:"/apps/users"})]})]})})]})}I.layout=i=>e.jsx(C,{children:i});export{I as default};
