import{q as f,W as b,j as e,a as x}from"./app-c2236e5e.js";import{B as p}from"./Button-41d38088.js";import{C as h}from"./Card-d2d084b5.js";import{S as n}from"./Select-26b25400.js";import{f as v,_ as j,A as _}from"./AppLayout-c3bab8ff.js";import{I as g}from"./IconPencilPlus-ac97f70a.js";import{I as N}from"./IconPencilX-c4adeb81.js";import"./react-select.esm-4bafe815.js";import"./createReactComponent-3b8926e8.js";function C(){const{config:i,dependency:l}=f().props,{data:s,setData:o,post:u,errors:t}=b({reports_notification:i?i.reports_notification:"0",create_notification:i?i.create_notification:0,update_notification:i?i.update_notification:0,parent_notification:i?i.parent_notification:0,non_compliance_alert:i?i.non_compliance_alert:0,close_plan_day:i?i.close_plan_day:-1}),m=async a=>{a.preventDefault(),u(route("apps.alert.post",l),{onSuccess:()=>{j.success("Configuración guardada correctamente!",{icon:"👏",style:{borderRadius:"10px",background:"#333",color:"#fff"}})}})},r=[{label:"Nunca",value:"0"},{label:"Semanales",value:"1"},{label:"Quincenales",value:"2"},{label:"Mensuales",value:"3"}],c=[{label:"No reportar",value:0},{label:"25%",value:25},{label:"50%",value:50},{label:"75%",value:75}],d=[{label:"No cerrar",value:-1},{label:"Al terminar",value:0},{label:"Despues de 1 día",value:1},{label:"Despues de 2 días",value:2},{label:"Despues de 3 días",value:3}];return e.jsxs(e.Fragment,{children:[e.jsx(x,{title:"Configurar Alertas"}),e.jsx(h,{title:`Configurar Alertas (${l.name})`,icon:e.jsx(v,{size:"20",strokeWidth:"1.5"}),children:e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsx(n,{label:"Recibir reportes de generales:",options:r,value:r.filter(a=>a.value===s.reports_notification)[0],onChange:a=>o("reports_notification",a.value),errors:t.reports_notification})}),e.jsx("div",{className:"mb-4",children:e.jsx(n,{label:"Notificar cuando un empleado incumpla una actividad al menos del:",options:c,value:c.filter(a=>a.value===s.non_compliance_alert)[0],onChange:a=>o("non_compliance_alert",a.value),errors:t.reports_notification})}),e.jsx("div",{className:"mb-4",children:e.jsx(n,{label:"Cerrar planificaciones automaticamente:",options:d,value:d.filter(a=>a.value===s.close_plan_day)[0],onChange:a=>o("close_plan_day",a.value),errors:t.reports_notification})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Opciones de notificación"}),e.jsxs("div",{className:"grid grid-cols-1 gap-x-3 gap-y-1.5 overflow-y-auto",children:[e.jsx("div",{className:"border-b px-4 pb-2 pt-1 border-dashed",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("input",{type:"checkbox",className:"rounded-full",value:1,defaultChecked:s.create_notification,onChange:a=>o("create_notification",a.target.checked),id:"check-1"}),e.jsx("div",{className:"font-semibold",children:"Notificar cuando una planificación es creada"})]})}),e.jsx("div",{className:"border-b px-4 pb-2 pt-1 border-dashed",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("input",{type:"checkbox",className:"rounded-full",value:1,defaultChecked:s.update_notification,onChange:a=>o("update_notification",a.target.checked),id:"check-1"}),e.jsx("div",{className:"font-semibold",children:"Notificar cuando una planificación es ejecutada"})]})}),e.jsx("div",{className:"border-b px-4 pb-2 pt-1 border-dashed",children:e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[e.jsx("input",{type:"checkbox",className:"rounded-full",value:1,defaultChecked:s.parent_notification,onChange:a=>o("parent_notification",a.target.checked),id:"check-1"}),e.jsx("div",{className:"font-semibold",children:"Notificar a la dependencia padre"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{label:"Guardar",icon:e.jsx(g,{strokeWidth:"1.5",size:"20"}),className:"bg-teal-200 text-teal-500 border border-teal-300 hover:border-teal-500"}),e.jsx(p,{label:"Cancelar",icon:e.jsx(N,{strokeWidth:"1.5",size:"20"}),className:"bg-rose-200 text-rose-500 border border-rose-300 hover:border-rose-500",type:"link",href:"/apps/dependencies"})]})]})})]})}C.layout=i=>e.jsx(_,{children:i});export{C as default};
