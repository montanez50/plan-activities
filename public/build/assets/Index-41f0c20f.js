import{q as g,r as u,j as e,a as j,y as c}from"./app-cf7ce22d.js";import{B as o}from"./Button-f3d83094.js";import{C as d}from"./Card-668c0e5a.js";import{S as y}from"./Select-73c364d1.js";import{i as n,_ as r,A as k}from"./AppLayout-281e5e8d.js";import"./sweetalert2.all-436c71e2.js";import{c as a}from"./createReactComponent-7828f558.js";import{I as v}from"./IconCheck-80a71ccc.js";import"./react-select.esm-3f313083.js";var f=a("database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]),M=a("database-import","IconDatabaseImport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.856 0 1.68 -.05 2.454 -.144m5.546 -2.856v-6",key:"svg-1"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.171 0 .341 -.002 .51 -.006",key:"svg-2"}],["path",{d:"M19 22v-6",key:"svg-3"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-4"}]]),I=a("database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]),N=a("file-database","IconFileDatabase",[["path",{d:"M12 12.75m-4 0a4 1.75 0 1 0 8 0a4 1.75 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M8 12.5v3.75c0 .966 1.79 1.75 4 1.75s4 -.784 4 -1.75v-3.75",key:"svg-1"}],["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-2"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-3"}]]),R=a("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);function C(){const{info:t,files:l}=g().props,[i,h]=u.useState(null),p=()=>{c.get(route("backups.generate")),r.success("Respaldo creado correctamente!",{icon:"👏",style:{borderRadius:"10px",background:"#333",color:"#fff"}})},x=()=>{c.get(route("backups.monitor")),r.success("Reporte enviado correctamente!",{icon:"👏",style:{borderRadius:"10px",background:"#333",color:"#fff"}})},m=()=>{i!==null?c.post(route("backups.restore"),{backup:i},{onSuccess:()=>{r.success("Restaurado!",{icon:"👏",style:{borderRadius:"10px",background:"#333",color:"#fff"}})}}):r.error("Seleccione una copia de seguridad")};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Respaldo"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8",children:[e.jsxs(d,{title:"GENERAR COPIA DE SEGURIDAD",icon:e.jsx(f,{size:"20",strokeWidth:"1.5"}),children:[t.map((s,b)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-700 text-center leading-loose tracking-wider mb-1",children:s.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2 mb-1",children:[e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Almacenamiento:"}),e.jsx("div",{children:s.disk})]}),e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Saludable:"}),e.jsx("div",{children:s.healthy?e.jsx(v,{className:"text-green-500",strokeWidth:"1.5",size:"20"}):e.jsx(n,{className:"text-red-500",strokeWidth:"1.5",size:"20"})})]}),e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Ultimo respaldo:"}),e.jsx("div",{children:s.newest_backup})]}),e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Accesible:"}),e.jsx("div",{children:s.reachable?e.jsx(v,{className:"text-green-500",strokeWidth:"1.5",size:"20"}):e.jsx(n,{className:"text-red-500",strokeWidth:"1.5",size:"20"})})]}),e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Cantidad de respaldos:"}),e.jsx("div",{children:s.num_backups})]}),e.jsxs("div",{className:"flex justify-between my-0",children:[e.jsx("div",{children:"Espacio utilizado:"}),e.jsx("div",{children:s.used_storage})]})]})]},b)),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsx(o,{onClick:()=>p(),label:"Crear Copia",icon:e.jsx(N,{strokeWidth:"1.5",size:"20"}),className:"bg-blue-200 text-blue-500 border border-blue-300 hover:border-blue-500"}),e.jsx(o,{onClick:()=>x(),label:"Enviar Reporte",icon:e.jsx(R,{strokeWidth:"1.5",size:"20"}),className:"bg-gray-200 text-gray-500 border border-gray-300 hover:border-gray-500"})]})]}),e.jsxs(d,{title:"RESTAURAR COPIA DE SEGURIDAD",icon:e.jsx(M,{size:"20",strokeWidth:"1.5"}),children:[e.jsx("div",{className:"mb-4",children:e.jsx(y,{label:"Seleccione la copia de seguridad",options:l,value:l.filter(s=>s.value===i)[0],onChange:s=>h(s.value)})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(o,{onClick:()=>m(),label:"Restaurar",icon:e.jsx(I,{strokeWidth:"1.5",size:"20"}),className:"bg-blue-200 text-blue-500 border border-blue-300 hover:border-blue-500"})})]})]})]})}C.layout=t=>e.jsx(k,{children:t});export{C as default};
